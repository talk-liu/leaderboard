(window.webpackJsonp=window.webpackJsonp||[]).push([[11,6,7],{232:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));n(16);var o=n(279),r=n.n(o).a.create({baseUrl:"/proApi",timeout:35e3});function c(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{"Content-Type":"application/json"};return new Promise((function(o,c){e.game_id=parseInt(localStorage.getItem("gameid")),r({url:t,method:"post",data:e,headers:n}).then((function(t){1001==t.data.code&&(localStorage.removeItem("access_token"),alert(t.data.message),location.reload()),o(t.data)})).catch((function(t){c(t)}))}))}},233:function(t,e,n){"use strict";e.a="https://api.playrank.io/"},235:function(t,e,n){var content=n(253);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(67).default)("4e7338fd",content,!0,{sourceMap:!1})},242:function(t,e,n){var content=n(281);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(67).default)("4d01ad58",content,!0,{sourceMap:!1})},243:function(t,e,n){t.exports=n.p+"img/logo1.69df218.png"},248:function(t,e,n){"use strict";n.r(e);var o={data:function(){return{switchGameBoll:!1}},methods:{switchGameBollEve:function(){this.switchGameBoll=!this.switchGameBoll}}},r=(n(252),n(26)),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.switchGameBoll?o("div",{staticClass:"switchGame"},[o("div",{staticClass:"switchGameBox"},[o("h4",[t._v("\n      Switch Game\n      "),o("img",{attrs:{src:n(250)},on:{click:t.switchGameBollEve}})]),t._v(" "),o("div",[o("p",[o("nuxt-link",{attrs:{to:"/"}},[o("img",{attrs:{src:n(251)}})])],1),t._v(" "),o("p",[o("nuxt-link",{attrs:{to:"/game"}},[o("img",{attrs:{width:"150px",src:n(243)}})])],1)])])]):t._e()}),[],!1,null,"09bdb8ee",null);e.default=component.exports},250:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAARCAYAAAA7bUf6AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAB/SURBVHgB3dFBDYAwDAXQSUACEpAwCTgACUiYNBwgYRKQUDayJU2T362cyJr0tOZl7Xful0VEPndjZk69pp7QQK1NAWKZ2RESECSAC/4EQSYAQMEMAMgOsBVuhhxfgLpClDeyAu8KpKTWBbC3PogaKQjIa8hJSgoFygdf3Jj1AGJ+P0Ij9/rsAAAAAElFTkSuQmCC"},251:function(t,e,n){t.exports=n.p+"img/logo2.129fd46.png"},252:function(t,e,n){"use strict";n(235)},253:function(t,e,n){var o=n(66),r=n(234),c=n(254),d=o(!1),l=r(c);d.push([t.i,".switchGame[data-v-09bdb8ee]{color:#fff;width:100%;height:100%;background-color:rgba(0,0,0,.8);z-index:11}.switchGame[data-v-09bdb8ee],.switchGame .switchGameBox[data-v-09bdb8ee]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%)}.switchGame .switchGameBox[data-v-09bdb8ee]{z-index:12;background:url("+l+") no-repeat;background-size:100% 100%;width:462px;height:390px}.switchGame .switchGameBox h4[data-v-09bdb8ee]{margin-top:26px;padding:0 60px;font-size:20px}.switchGame .switchGameBox h4 img[data-v-09bdb8ee]{float:right;cursor:pointer;padding:5px}.switchGame .switchGameBox div[data-v-09bdb8ee]{text-align:center;margin-top:30px}.switchGame .switchGameBox div p[data-v-09bdb8ee]{margin:40px 0}",""]),t.exports=d},254:function(t,e,n){t.exports=n.p+"img/propr.9ac72e4.png"},258:function(t,e,n){t.exports=n.p+"img/logo.b76f16c.png"},259:function(t,e,n){t.exports=n.p+"img/button.01b04d7.png"},261:function(t,e){},263:function(t,e){},264:function(t,e){},265:function(t,e){},267:function(t,e){},268:function(t,e){},269:function(t,e){},270:function(t,e){},271:function(t,e){},272:function(t,e){},275:function(t,e){},276:function(t,e){},277:function(t,e){},278:function(t,e){},280:function(t,e,n){"use strict";n(242)},281:function(t,e,n){var o=n(66),r=n(234),c=n(282),d=o(!1),l=r(c);d.push([t.i,".heads[data-v-722eb385]{height:60px;background:url("+l+") no-repeat;background-size:100% 100%;position:relative}.heads .container[data-v-722eb385]{display:flex;justify-content:space-around;align-items:center;padding-top:10px}.heads .container img[data-v-722eb385]{cursor:pointer}.heads .container a[data-v-722eb385]{color:#a4a4a4;font-size:16px;font-weight:600}.heads .container a span[data-v-722eb385]{color:#a4a4a4;position:absolute;top:66px;left:50%;transform:translate(-50%);z-index:111}.heads .container span[data-v-722eb385]{color:#fff}",""]),t.exports=d},282:function(t,e,n){t.exports=n.p+"img/head.e967cda.png"},283:function(t,e,n){t.exports=n.p+"img/switch.80c6531.png"},284:function(t,e,n){t.exports=n.p+"img/button111.fb71509.png"},285:function(t,e,n){"use strict";var o=n(6),r=n(3),c=n(55),d=n(21),l=n(27),f=n(12),v=n(4),h=n(172),m=n(127),x=n(286),w=n(287),_=n(68),A=n(288),k=[],B=r(k.sort),E=r(k.push),C=v((function(){k.sort(void 0)})),S=v((function(){k.sort(null)})),G=m("sort"),y=!v((function(){if(_)return _<70;if(!(x&&x>3)){if(w)return!0;if(A)return A<603;var code,t,e,n,o="";for(code=65;code<76;code++){switch(t=String.fromCharCode(code),code){case 66:case 69:case 70:case 72:e=3;break;case 68:case 71:e=4;break;default:e=2}for(n=0;n<47;n++)k.push({k:t+n,v:e})}for(k.sort((function(a,b){return b.v-a.v})),n=0;n<k.length;n++)t=k[n].k.charAt(0),o.charAt(o.length-1)!==t&&(o+=t);return"DGBEFHACIJK"!==o}}));o({target:"Array",proto:!0,forced:C||!S||!G||!y},{sort:function(t){void 0!==t&&c(t);var e=d(this);if(y)return void 0===t?B(e):B(e,t);var n,o,r=[],v=l(e);for(o=0;o<v;o++)o in e&&E(r,e[o]);for(h(r,function(t){return function(e,n){return void 0===n?-1:void 0===e?1:void 0!==t?+t(e,n)||0:f(e)>f(n)?1:-1}}(t)),n=r.length,o=0;o<n;)e[o]=r[o++];for(;o<v;)delete e[o++];return e}})},286:function(t,e,n){var o=n(53).match(/firefox\/(\d+)/i);t.exports=!!o&&+o[1]},287:function(t,e,n){var o=n(53);t.exports=/MSIE|Trident/.test(o)},288:function(t,e,n){var o=n(53).match(/AppleWebKit\/(\d+)\./);t.exports=!!o&&+o[1]},300:function(t,e,n){"use strict";n.r(e);var o=n(10),r=(n(54),n(244)),c=n.n(r),d=n(232),l=n(233),f={name:"NuxtTutorial",data:function(){return{accounts:[],access_token:"",accountName:""}},mounted:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n,o,data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new c.a(window.ethereum),e.next=3,n.eth.getAccounts();case 3:return t.accounts=e.sent,e.next=6,ethereum.enable();case 6:if(t.accounts=e.sent,t.access_token=localStorage.getItem("access_token"),t.access_token||t.signEve(),!localStorage.getItem("access_token")){e.next=16;break}return e.next=12,Object(d.a)(l.a+"crypto/leaderboard",{access_token:localStorage.getItem("access_token")});case 12:o=e.sent,data=o.data,console.log(data.parameterm,"1111"),t.accountName=data.parameter.accountName;case 16:case"end":return e.stop()}}),e)})))()},methods:{signEve:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n,o,r,data,f,v;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new c.a(window.ethereum),e.next=3,n.eth.getAccounts();case 3:return t.accounts=e.sent,e.next=6,ethereum.enable();case 6:return t.accounts=e.sent,o="leaderboard",e.next=10,n.eth.personal.sign(o,t.accounts[0]);case 10:return r=e.sent,data={address:t.accounts[0],signature:r,message:o},console.log(JSON.stringify(data)),e.next=15,Object(d.a)(l.a+"crypto/oauth/metamask",data);case 15:f=e.sent,v=f.access_token,localStorage.setItem("access_token",v),location.reload();case 19:case"end":return e.stop()}}),e)})))()},accEve:function(){console.log(666),window.top.postMessage("updateScore","/")}}},v=(n(280),n(26)),component=Object(v.a)(f,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"heads"},[o("div",{staticClass:"container"},[o("nuxt-link",{attrs:{to:"/"}},[o("img",{attrs:{src:n(258)}})]),t._v(" "),o("nuxt-link",{attrs:{to:"/"}},[t._v("Assets")]),t._v(" "),o("nuxt-link",{attrs:{to:"/claim"}},[t._v("Claim")]),t._v(" "),t.access_token?o("a",[o("span",{on:{click:function(e){return t.accEve()}}},[t._v(t._s(t.accounts[0])+" ")]),t._v(t._s(t.accountName))]):o("img",{attrs:{src:n(259)},on:{click:t.signEve}})],1)])}),[],!1,null,"722eb385",null);e.default=component.exports},313:function(t,e,n){var content=n(371);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(67).default)("b7c9ea14",content,!0,{sourceMap:!1})},370:function(t,e,n){"use strict";n(313)},371:function(t,e,n){var o=n(66),r=n(234),c=n(372),d=n(373),l=n(374),f=n(375),v=n(376),h=n(377),m=n(378),x=o(!1),w=r(c),_=r(d),A=r(l),k=r(f),B=r(v),E=r(h),C=r(m);x.push([t.i,".leader .container[data-v-ed899ad6]{background:#000;position:relative}.leader .container .switch[data-v-ed899ad6]{position:absolute;left:50%;bottom:92px;transform:translate(-50%,-50%);cursor:pointer}.leader .containerBox[data-v-ed899ad6]{color:#fff;display:flex;justify-content:space-around;align-items:flex-start;padding-top:140px;background:url("+w+") no-repeat;background-size:100% 100%;height:900px}.leader .containerBox .game[data-v-ed899ad6]{margin:0 24px}.leader .containerBox .game .back[data-v-ed899ad6]{background:url("+_+") no-repeat;background-size:100% 100%;height:100%;width:100%;position:relative}.leader .containerBox .game .back img[data-v-ed899ad6]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);cursor:pointer}.leader .containerBox .left[data-v-ed899ad6]{background:url("+A+") no-repeat;background-size:100% 100%;width:100%;height:800px;margin:0 31px}.leader .containerBox .right[data-v-ed899ad6]{width:100%;background:url("+k+") no-repeat;background-size:100% 100%;height:800px;margin:0 32px;position:relative}.leader .containerBox .right div[data-v-ed899ad6]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.leader .containerBox .right div p[data-v-ed899ad6]{background:url("+B+") no-repeat;background-size:100% 100%;width:157px;height:41px;text-align:center;line-height:41px;margin:50px auto auto}.leader .containerBox .leftBox[data-v-ed899ad6]{padding:66px 8px 0}.leader .containerBox .leftBox .balance[data-v-ed899ad6]{display:flex;justify-content:center;align-items:center;text-shadow:0 3.56366px 4.98913px rgba(64,221,132,.3),0 0 3.56366px #40dd84}.leader .containerBox .leftBox .balance h3[data-v-ed899ad6]{font-size:17px}.leader .containerBox .leftBox .balance h3 p[data-v-ed899ad6]{font-size:14px;color:#27f17f}.leader .containerBox .leftBox .round h4[data-v-ed899ad6]{background:url("+E+") no-repeat;background-size:100% 100%;height:46px;line-height:46px;text-align:center;font-size:16px}.leader .containerBox .leftBox .round ul[data-v-ed899ad6]{padding:0 25px;margin-top:-11px}.leader .containerBox .leftBox .round ul li[data-v-ed899ad6]{background:url("+C+") no-repeat;background-size:100% 100%;height:200px;font-size:13px;padding:15px}.leader .containerBox .leftBox .round ul li div[data-v-ed899ad6]{height:150px;overflow:auto}.leader .containerBox .leftBox .round ul li p[data-v-ed899ad6]{margin:10px 0}.leader .containerBox .leftBox .round ul li a[data-v-ed899ad6]{color:#fff}.leader .containerBox .leftBox .round ul li label[data-v-ed899ad6]{margin-right:15px;width:40px;display:inline-block}.leader .containerBox .leftBox .round ul li .name[data-v-ed899ad6]{width:55px}",""]),t.exports=x},372:function(t,e,n){t.exports=n.p+"img/back.6a0a49b.png"},373:function(t,e,n){t.exports=n.p+"img/back66.eee622d.png"},374:function(t,e,n){t.exports=n.p+"img/left.82904a7.png"},375:function(t,e,n){t.exports=n.p+"img/right.a17fa8c.png"},376:function(t,e,n){t.exports=n.p+"img/button1.82d0cc3.png"},377:function(t,e,n){t.exports=n.p+"img/title.b0a7cc0.png"},378:function(t,e,n){t.exports=n.p+"img/title1.ccd9d9b.png"},480:function(t,e,n){"use strict";n.r(e);var o=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("li",{staticClass:"balance"},[o("img",{attrs:{src:n(243)}}),t._v(" "),o("h3",[t._v("\n              BALANCE\n              "),o("p",[t._v("\n                100 PLAYTOKEN\n              ")])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"right"},[n("div",[n("p",[t._v("HOW TO PLAY")]),t._v(" "),n("p",{staticStyle:{width:"220px"}},[t._v("HOW RANKINGS WORK")]),t._v(" "),n("p",[t._v("FULL SCREEN")])])])}],r=n(10),c=(n(16),n(35),n(285),n(54),n(248)),d=n(232),l=n(233),f=n(244),v=n.n(f),h={components:{Switchs:c.default},data:function(){return{attr:[],boll:!1}},mounted:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t,window.addEventListener("message",(function(t){console.log("666这里是接收到的消息，消息内容在event.data属性中",t),console.log(t.data,1111),"updateScore"==t.data&&n.attrsEve()}),!1),localStorage.setItem("gameid",1),t.attrsEve();case 4:case"end":return e.stop()}}),e)})))()},methods:{switchEve:function(){this.$refs.childFunction.switchGameBollEve()},compare:function(p){return function(t,e){var a=t[p];return e[p]-a}},attrsEve:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,o,data,r,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=new v.a(v.a.givenProvider||new v.a.providers.HttpProvider("http://localhost:7545")),console.log(localStorage.getItem("access_token")),!localStorage.getItem("access_token")){e.next=15;break}return e.next=5,Object(d.a)(l.a+"crypto/leaderboard",{access_token:localStorage.getItem("access_token")});case 5:o=e.sent,data=o.data,console.log(data),r=n.eth.abi.decodeParameter("tuple(uint256,string,address,uint256)[]",data.result),c=[],r.forEach((function(element){console.log(element),c.push({score:element[0],name:element[1],address:element[2],reward:element[3]})})),c.sort(t.compare("score")),console.log(c),t.attr=c,console.log(r,"talk",c);case 15:case"end":return e.stop()}}),e)})))()}}},m=(n(370),n(26)),component=Object(m.a)(h,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"leader"},[o("div",{staticClass:"container"},[o("div",{staticClass:"switch"},[o("img",{attrs:{src:n(283)},on:{click:t.switchEve}})]),t._v(" "),o("Switchs",{ref:"childFunction"}),t._v(" "),o("div",{staticClass:"containerBox"},[o("div",{staticClass:"left"},[o("ul",{staticClass:"leftBox"},[t._m(0),t._v(" "),o("li",{staticClass:"round"},[o("h4",[t._v("\n              ROUND 6 RANKINGS\n            ")]),t._v(" "),o("ul",[o("li",[o("div",t._l(t.attr,(function(e,n){return o("p",{key:n},[o("img",{attrs:{src:""}}),t._v(" "),o("label",{staticClass:"name"},[t._v(t._s(e.name))]),t._v(" "),o("label",[t._v(t._s(e.score))]),t._v(" "),o("label",[t._v(t._s(e.reward))])])})),0)])])])])]),t._v(" "),o("div",{staticClass:"game"},[o("div",{staticStyle:{width:"500px",height:"720px"}},[t.boll?o("iframe",{attrs:{width:"100%",height:"100%",src:"https://playrank.io/towerdefense/"}}):o("div",{staticClass:"back"},[o("img",{attrs:{src:n(284)},on:{click:function(e){t.boll=!t.boll}}})])])]),t._v(" "),t._m(1)])],1)])}),o,!1,null,"ed899ad6",null);e.default=component.exports;installComponents(component,{Switchs:n(248).default})},774:function(t,e,n){"use strict";n.r(e);var o={name:"IndexPage"},r=n(26),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("Heads"),t._v(" "),n("Leaderboard")],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{Heads:n(300).default,Leaderboard:n(480).default})}}]);