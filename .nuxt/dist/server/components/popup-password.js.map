{"version":3,"file":"components/popup-password.js","sources":["webpack:///./components/Popup/Password.vue?2e66","webpack:///./components/Popup/Password.vue?d3b5","webpack:///./components/Popup/Password.vue?bad4","webpack:///./components/Popup/Password.vue?c553","webpack:///./components/Popup/Password.vue","webpack:///./components/Popup/Password.vue?3dfc","webpack:///./components/Popup/Password.vue?68b3","webpack:///./assets/propr.png","webpack:///./assets/close.png","webpack:///./assets/icon/config.png","webpack:///./assets/icon/show.png","webpack:///./assets/icon/hidden.png"],"sourcesContent":["// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--5-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--5-oneOf-1-3!../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Password.vue?vue&type=style&index=0&id=1cf29534&scoped=true&lang=less&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = require(\"!../../node_modules/vue-style-loader/lib/addStylesServer.js\").default\nmodule.exports.__inject__ = function (context) {\n  add(\"ac5cadd8\", content, true, context)\n};","export * from \"-!../../node_modules/vue-style-loader/index.js??ref--5-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--5-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--5-oneOf-1-3!../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Password.vue?vue&type=style&index=0&id=1cf29534&scoped=true&lang=less&\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_GET_URL_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/getUrl.js\");\nvar ___CSS_LOADER_URL_IMPORT_0___ = require(\"../../assets/propr.png\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(false);\nvar ___CSS_LOADER_URL_REPLACEMENT_0___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_0___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".switchGame[data-v-1cf29534]{color:#fff;width:100%;height:100%;background-color:rgba(0,0,0,.8);z-index:11}.switchGame[data-v-1cf29534],.switchGame .switchGameBox[data-v-1cf29534]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%)}.switchGame .switchGameBox[data-v-1cf29534]{z-index:12;background:url(\" + ___CSS_LOADER_URL_REPLACEMENT_0___ + \") no-repeat;background-size:100% 100%;width:562px;padding-bottom:30px}.switchGame .switchGameBox h4[data-v-1cf29534]{margin-top:32px;padding:6px 60px;font-size:20px;text-align:center}.switchGame .switchGameBox h4 img[data-v-1cf29534]{float:right;cursor:pointer;padding:5px}.switchGame .switchGameBox div p[data-v-1cf29534]{font-size:24px;color:#fff;text-align:center;margin-top:60px}.switchGame .switchGameBox div p a[data-v-1cf29534],.switchGame .switchGameBox div p span[data-v-1cf29534]{color:#40dd84}.switchGame .switchGameBox div p a[data-v-1cf29534]{text-decoration:underline;font-size:16px}.switchGame .switchGameBox div .config[data-v-1cf29534]{margin-top:42px;margin-bottom:24px}.switchGame .switchGameBox div .config img[data-v-1cf29534]{margin:0 30px;cursor:pointer}.switchGame .enter[data-v-1cf29534]{padding:0 60px}.switchGame .enter li[data-v-1cf29534]{margin-top:42px;position:relative}.switchGame .enter li label[data-v-1cf29534]{font-size:20px;line-height:22px}.switchGame .enter li input[data-v-1cf29534]{width:100%;height:43px;line-height:43px;background:#40dd84;box-shadow:inset 0 4px 6px #017e37;outline:none;border:none;border-radius:11px;font-size:18px;text-indent:10px;color:#000;margin:10px 0}.switchGame .enter li img[data-v-1cf29534]{position:absolute;right:20px;top:44px}\", \"\"]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.switchGameBoll)?_c('div',{staticClass:\"switchGame\"},[_vm._ssrNode(\"<div class=\\\"switchGameBox\\\" data-v-1cf29534><h4 data-v-1cf29534>\\n      Set Transaction Password\\n      <img\"+(_vm._ssrAttr(\"src\",require(\"assets/close.png\")))+\" data-v-1cf29534></h4> <div data-v-1cf29534><ul class=\\\"enter\\\" data-v-1cf29534><li data-v-1cf29534><label data-v-1cf29534>\\n            Password\\n          </label> \"+(((_vm.passwordBoll?'password':'text')==='checkbox')?(\"<input type=\\\"checkbox\\\"\"+(_vm._ssrAttr(\"checked\",Array.isArray(_vm.password)?_vm._i(_vm.password,null)>-1:(_vm.password)))+\" data-v-1cf29534>\"):((_vm.passwordBoll?'password':'text')==='radio')?(\"<input type=\\\"radio\\\"\"+(_vm._ssrAttr(\"checked\",_vm._q(_vm.password,null)))+\" data-v-1cf29534>\"):(\"<input\"+(_vm._ssrAttr(\"type\",_vm.passwordBoll?'password':'text'))+(_vm._ssrAttr(\"value\",(_vm.password)))+\" data-v-1cf29534>\"))+\" \"+((_vm.passwordBoll)?(\"<img\"+(_vm._ssrAttr(\"src\",require(\"assets/icon/show.png\")))+\" data-v-1cf29534>\"):(\"<img\"+(_vm._ssrAttr(\"src\",require(\"assets/icon/hidden.png\")))+\" data-v-1cf29534>\"))+\"</li> <li data-v-1cf29534><label data-v-1cf29534>\\n            Confirm Your Password\\n          </label> \"+(((_vm.confirmPasswordBoll?'password':'text')==='checkbox')?(\"<input type=\\\"checkbox\\\"\"+(_vm._ssrAttr(\"checked\",Array.isArray(_vm.confirmPassword)?_vm._i(_vm.confirmPassword,null)>-1:(_vm.confirmPassword)))+\" data-v-1cf29534>\"):((_vm.confirmPasswordBoll?'password':'text')==='radio')?(\"<input type=\\\"radio\\\"\"+(_vm._ssrAttr(\"checked\",_vm._q(_vm.confirmPassword,null)))+\" data-v-1cf29534>\"):(\"<input\"+(_vm._ssrAttr(\"type\",_vm.confirmPasswordBoll?'password':'text'))+(_vm._ssrAttr(\"value\",(_vm.confirmPassword)))+\" data-v-1cf29534>\"))+\" \"+((_vm.confirmPasswordBoll)?(\"<img\"+(_vm._ssrAttr(\"src\",require(\"assets/icon/show.png\")))+\" data-v-1cf29534>\"):(\"<img\"+(_vm._ssrAttr(\"src\",require(\"assets/icon/hidden.png\")))+\" data-v-1cf29534>\"))+\"</li></ul> <p class=\\\"config\\\" data-v-1cf29534><img\"+(_vm._ssrAttr(\"src\",require(\"assets/icon/config.png\")))+\" data-v-1cf29534></p></div></div>\")]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport Web3 from 'web3'\nimport { SlowBuffer } from 'buffer'\nimport { mapState, mapMutations } from 'vuex'\nimport { get, post } from '~/utils/axios.js'\nimport URL from '~/utils/const/index.js'\nexport default {\n  data() {\n    return {\n      switchGameBoll: false,\n      password:'',\n      confirmPassword:'',\n      passwordBoll: true,\n      confirmPasswordBoll: true\n    }\n  },\n  computed: {\n    ...mapState({\n      isPassword: (state) => state.tokens.assets.password,\n    }),\n  },\n  watch:{\n    isPassword(isPassword){\n      this.switchGameBoll = isPassword\n    }\n  },\n  async mounted() {\n    this.switchGameBoll = this.isPassword\n  },\n  methods: {\n    async tokensEve() {\n      if( this.confirmPassword != '' && (this.confirmPassword == this.password)){\n        const web3 = new Web3(window.ethereum)\n        this.accounts = await web3.eth.getAccounts()\n        this.accounts = await ethereum.enable()\n        // 获取签名id\n        const notice = this.password\n        console.log(notice)\n        const personal = await web3.eth.personal.sign(notice, this.accounts[0])\n        const data = {\n          address: this.accounts[0],\n          signature: personal,\n          password: notice\n        }\n        console.log(JSON.stringify(data))\n\n        const { access_token, address, result } = await post(\n          URL + 'nexus/oauth/metamask',\n          data\n        )\n        if(result==1){\n          localStorage.setItem('access_token', access_token)\n          localStorage.setItem('address', address)\n          this.$message.info('success')\n          this.password = ''\n          this.confirmPassword = ''\n          this.switchGameBoll = !this.switchGameBoll\n        }\n      }else{\n        this.$message.info('Inconsistent passwords')\n      }\n    },\n    bollEve(){\n      this.switchGameBoll = !this.switchGameBoll\n    }\n  },\n}\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Password.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Password.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Password.vue?vue&type=template&id=1cf29534&scoped=true&\"\nimport script from \"./Password.vue?vue&type=script&lang=js&\"\nexport * from \"./Password.vue?vue&type=script&lang=js&\"\nfunction injectStyles (context) {\n  \n  var style0 = require(\"./Password.vue?vue&type=style&index=0&id=1cf29534&scoped=true&lang=less&\")\nif (style0.__inject__) style0.__inject__(context)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  \"1cf29534\",\n  \"0dcbf78a\"\n  \n)\n\nexport default component.exports","module.exports = __webpack_public_path__ + \"img/propr.2113bd4.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAARCAYAAAA7bUf6AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAB/SURBVHgB3dFBDYAwDAXQSUACEpAwCTgACUiYNBwgYRKQUDayJU2T362cyJr0tOZl7Xful0VEPndjZk69pp7QQK1NAWKZ2RESECSAC/4EQSYAQMEMAMgOsBVuhhxfgLpClDeyAu8KpKTWBbC3PogaKQjIa8hJSgoFygdf3Jj1AGJ+P0Ij9/rsAAAAAElFTkSuQmCC\"","module.exports = __webpack_public_path__ + \"img/config.3e57bf4.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADWSURBVHgB7ZTREYIwEEQXK6AESrADrwQ6kBLoSDoQK8AOsAPsIHagl/GYyZxL4McvvZn3AdnssbkMwM9VkVkrlUY5KHvlYVyUXrljY1XKoDxXOJk2W7USNpjNTLZn0cxvGBVJNGImXncEiRlI99JojcqeR6cNcPHPpKuYaCJNhOiHNAY7H9hX+fetrbE9ssOXagCPHOP5yBV4qj41jCI/lNEM49o8lJI0oUOJ1YDfM0k0gs8JR7J3kd2zJULOLI3fbTC7gsQsVoxrYz67mxl1eP8o/gW8AAEXi4luXLKjAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADfSURBVHgBzZSBDYMgFEQvnYARHIUR3KCO4AYyQjexG+gGdgO7ASNYSH9T83MgJE3qJZcYuf/kAwKcVH1wgx9pCN4EmpWR0Bi8iqfgjsBcDtRI4Ua84ttaEawN9hUwLzVJmIYswVblBpK7grTpyYxMAqazHmqXR/JVm4A5GdP56RNkg1sCFt3JO1ZjL+B6KJhDpSbkd1OvqyWzu++BEeATsBvebXYCM5LLbkpUC37O7C4Tnxcyu+RZZG3m7EthcwFsxsENsz9nkLCTwqc4Lny8MAwO1KPgR69Rg4L77C96AXLjixC4lG+LAAAAAElFTkSuQmCC\""],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACXA;AAAA;AAAA;AAAA;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACTA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AALA;AAOA;AACA;AAAA;AAEA;AADA;AADA;AAKA;AACA;AACA;AACA;AACA;AAJA;AACA;AAIA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AAKA;AAEA;AAAA;AAAA;AAAA;AAAA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AApCA;AAvBA;;AC1CA;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACvBA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;A","sourceRoot":""}